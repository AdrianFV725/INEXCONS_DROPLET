FROM node:18-alpine

# Establecer directorio de trabajo
WORKDIR /app

# Copiar archivos del frontend
COPY frontend/package*.json ./
RUN npm install --legacy-peer-deps

COPY frontend/ .

# Configurar Vite para desarrollo
RUN echo 'import { defineConfig } from "vite"\nimport react from "@vitejs/plugin-react"\n\nexport default defineConfig({\n  plugins: [react()],\n  server: {\n    host: "0.0.0.0",\n    port: 5173\n  }\n})' > vite.config.js

EXPOSE 5173

CMD ["npm", "run", "dev"]
